function logout_event(){$("a.confirm-logout").click(function(){return Confirm("Bạn có muốn thoát không?","Xác nhận",function(t){t&&(window.location.href="/user/logout")}),!1})}function ShowMessError(t){function n(){return setTimeout(function(){o.fadeOut("slow")},5e3)}var o=$(".div_msg_error");""==t?$(".div_msg_error .content").text("Timeout"):$(".div_msg_error .content").text(t),o.fadeIn("slow");var e=n();o.mouseover(function(){e&&clearTimeout(e)}),o.mouseout(function(){e=n()})}function goToByScroll(t){t=t.replace("link",""),$("html,body").animate({scrollTop:$(t).offset().top},"slow")}function SortArray(t,n,o){if(t&&t.length>0){for(var e=t.length,i=[],r=0;r<e;r++){var a=t[0][n],c=0;for(j=1;j<e-r;j++){var l=t[j];o?a>l[n]&&(a=l[n],c=j):a<l[n]&&(a=l[n],c=j)}i.push(t[c]),t.splice(c,1)}return i}return null}var spinner;$(function(){spinner=$("#spinner"),$("a.tn-late-visit").click(function(){return TN_POPUP.show("Chuyên mục này đang được phát triển<br/>Bạn hãy ghé thăm vào 20/11<br/>-=Xin cảm ơn=-","Xin lỗi"),!1}),$("a.must-login").click(function(){var t=$(this);if(!window.is_login){var n=[{caption:"Đăng nhập",callback:function(){window.next_url=t.attr("href"),$(".cd-signin").trigger("click")}},{caption:"Bỏ qua",callback:function(){window.next_url=void 0}}];return TN_POPUP.show("Bạn cần phải đăng nhập<br/>trước khi thực hiện thao tác này",null,null,null,n),!1}}),$("a.exam-not-enable").click(function(){var t=$(this).attr("score");return""==t?TN_POPUP.show("Bạn chưa qua bài trước"):TN_POPUP.show("Bạn đã thi bài này với số điểm: "+t),!1}),$("a.round-not-open").click(function(){return TN_POPUP.show("Vòng này chưa được mở"),!1}),logout_event();for(var t in $.cookie())$.removeCookie(t)}),$.ajaxSetup({type:"GET",timeout:3e4,beforeSend:function(t){spinner&&spinner.show()},statusCode:{200:function(){},404:function(){},500:function(){}},error:function(t,n,o){console.log(t,n,o),ShowMessError(o)},success:function(t,n,o){},complete:function(t,n){spinner&&spinner.hide()}});var TN_POPUP={control:{div:$("#modal-message"),title:$("#modal-message .modal-title"),content:$("#modal-message .tn-popup-content"),footer:$("#modal-message .tn-popup-footer")},modal:$("#modal-message").modal({show:!1,keyboard:!0,backdrop:"static"}),show:function(t,n,o,e,i,r,a){TN_POPUP.tClose&&(clearTimeout(TN_POPUP.tClose),delete TN_POPUP.tClose),TN_POPUP.control.content.html(t),TN_POPUP.control.title.text(n||"Thông báo");var c=TN_POPUP.control.footer.html("");if(i&&i.length>0){for(var l=0;l<i.length;l++){button=i[l];var u=button.auto_callback?'auto-callback="true"':"";$button=$('<a href="javascript:void(0);" '+u+' btn-index="'+l+'" class="btn btn-red" style="min-width: 100px; display: inline-block; margin: 0 5px;">'+button.caption+"</a>"),button.auto_callback&&(button.timeout=setTimeout(function(){var t=parseInt($(".tn-btn-popup[auto-callback=true]").attr("btn-index")),n=i[t].callback;n&&n(),TN_POPUP.hide()},button.auto_callback)),$button.click(function(){button.timeout&&clearTimeout(button.timeout);var t=parseInt($(this).attr("btn-index")),n=i[t].callback;n&&n(),TN_POPUP.hide()}),c.append($button)}TN_POPUP.timeout&&(clearTimeout(TN_POPUP.timeout),TN_POPUP.timeout=void 0),r&&(TN_POPUP.timeout=setTimeout(function(){TN_POPUP.hide()},r))}else $botton_default=$('<a href="javascript:void(0);" class="btn btn-red"  style="min-width: 100px; display: inline-block; margin: 0 5px;">Ok</a>'),$botton_default.click(function(){TN_POPUP.hide()}),c.append($botton_default);TN_POPUP.control.div.is(":visible")||TN_POPUP.modal.modal("show")},hide:function(){TN_POPUP.tClose=setTimeout(function(){TN_POPUP.modal.modal("hide")},200)}};$(function(){TN_POPUP.control={div:$("#modal-message"),title:$("#modal-message .modal-title"),content:$("#modal-message .tn-popup-content"),footer:$("#modal-message .tn-popup-footer")},TN_POPUP.modal=$("#modal-message").modal({show:!1,keyboard:!0,backdrop:"static"})}),window.Confirm=function(t,n,o){var e=[{caption:"Đồng ý",callback:function(){o(!0)}},{caption:"Hủy",callback:function(){o(!1)}}];TN_POPUP.show(t,n,null,null,e)},jQuery.fn.ForceNumericOnly=function(){return this.each(function(){$(this).keydown(function(t){var n=t.charCode||t.keyCode||0;return 8==n||9==n||13==n||46==n||110==n||190==n||n>=35&&n<=40||n>=48&&n<=57||n>=96&&n<=105})})};var Urllib={encode:function(t){return encodeURIComponent(t)},decode:function(t){return decodeURIComponent(t)},GetQueryString:function(){for(var t,n=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),e=0;e<o.length;e++)t=o[e].split("="),n.push(t[0]),n[t[0]]=unescape(t[1]);return n},getIsMobileClient:function(t){for(var n=navigator.userAgent.toLowerCase(),o=["android","windows ce","blackberry","palm","mobile"],e=0;e<o.length;e++)if(n.indexOf(o[e])>-1)return!t||o[e].toUpperCase()==t.toUpperCase();return!1}};$(document).on("keydown",function(t){8!==t.which||$(t.target).is("input, textarea")||t.preventDefault()});